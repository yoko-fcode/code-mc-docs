# 動的テンプレートへの値の埋め込み

``variable``メソッドをカスタマイズタグとして追加することで、動的テンプレートに埋め込む値（のうち、イベント情報には当てはまらないもの。「動的変数」と呼びます）をクライアントサイト側から代入することが可能です。

## ``variable``メソッドについて

code.js 内で「動的変数」を代入をするためのメソッドです。

## ``variable``メソッドの設置が必要なケース

以下のケースで、``variable``メソッドの設置が必須となります。

- クライアントサイト側から「動的変数」を代入するタイプの動的クリエイティブテンプレートを利用して接客を行いたい

## ``variable``メソッドの設置方法

``variable``メソッドタグの設置場所や内容は、サイト側の実装に大きく依存します。以下に記載した``variable``メソッドタグの設置場所やサンプルコード、及び各動的クリエイティブテンプレートの``variable``メソッド呼び出しに関する説明を参考に、サイトに合わせた記述に書き換えてください。

## ``variable``メソッドの設置場所

動的クリエイティブテンプレートへの「動的変数」の代入は code.js の初期化処理のなかで実施されます。そのため、初期化メソッド（``load``メソッド）の前に``variable``メソッドタグを設置してください。

- 商品の残り在庫数を代入する例

```
<script async src="@CODE_TAG_URL"></script>
<script>
  window._cq = window._cq || [];
  function _cc(){_cq.push(arguments);}
  _cc('variable', 'inventory', '99');  // 'load'メソッドの前に追加
  _cc('load', '@ACCOUNT_ID', '@SITE_ID');
</script>
```

## ``variable``メソッドのサンプルコード

### 例：ページの商品の残り在庫数を代入する

```
// ページの商品の残り在庫数を代入する場合
_cc('variable', 'inventory', '99');
```

### 例：（店舗ポータルサイトなどで、店舗ごとに異なる）電話番号を代入する

```
_cc('variable', 'phoneNumber', '03-1234-5678');
```

### ``variable``メソッドの引数について

| 引数位置 | 必須 | 概要 | 例 | 型 |
|:--------:|:--------:|:--------:|:--------:|:--------:|
| 第一引数 | ○ | メソッド名 | "variable"(固定) | 文字列 |
| 第二引数 | ○ | 動的変数の名前 | "phoneNumber" | 文字列 |
| 第三引数 | ○ | 動的変数の値 | "99" | 文字列 |
